# Ein UI - Liquid Glass Component Library
## Codebase Overview

**Project:** Ein UI - A modern, accessible UI component library featuring liquid glass design patterns
**Repository:** https://github.com/ehsanghaffar/ein-ui
**Live Demo:** https://ui.eindev.ir
**Version:** 1.0.0
**License:** ISC

---

## PROJECT DESCRIPTION

Ein UI is a comprehensive collection of beautiful, production-ready "liquid glass" components built with modern web technologies. It serves as both a component registry (distributed via shadcn CLI) and a showcase platform with built-in documentation.

### Key Characteristics:
- **Glass-Morphism Design**: Liquid glass aesthetic components with blur effects and transparency
- **Shadcn Registry**: Components packaged and distributed using the shadcn registry format
- **Full-Stack Ready**: Includes server/client component patterns and validation examples
- **Documentation First**: Interactive component previews and live documentation site
- **Accessibility**: Built on Radix UI primitives ensuring WCAG compliance

---

## TECHNOLOGY STACK

### Core Framework
- **Next.js**: v16.1.1 (App Router, React Server Components)
- **React**: v19.2.3 (with new compiler and concurrent features)
- **TypeScript**: v5.9.3 (strict mode enabled)
- **Tailwind CSS**: v4.1.18 (latest PostCSS integration)

### UI & Component Libraries
- **Radix UI**: Comprehensive headless component primitives
  - accordion, alert-dialog, avatar, checkbox, dialog, label, popover, progress, radio-group, scroll-area, select, separator, slider, switch, tabs, tooltip
- **Shadcn CLI**: v3.6.2 (component registry management)
- **Framer Motion**: v12.23.26 (animations and transitions)
- **Lucide React**: v0.562.0 (icon library)
- **Class Variance Authority**: v0.7.1 (CSS variant management)
- **Tailwind Merge**: v3.4.0 (class merging utility)
- **Tailwindcss Animate**: v1.0.7 (animation utilities)

### Development & Quality Assurance
- **Vitest**: v4.0.16 (unit testing framework)
- **ESLint**: v9.39.2 (code linting)
- **TypeScript Compiler**: Strict type checking
- **Testing Library**: @testing-library/react, @testing-library/jest-dom
- **Coverage Tools**: @vitest/coverage-v8, vitest/ui
- **Accessibility**: @axe-core/cli for a11y testing

### Design & Styling
- **PostCSS**: @tailwindcss/postcss v4.1.18
- **Next Themes**: v0.4.6 (theme management)
- **Zod**: v4.2.1 (TypeScript-first schema validation)

### Analytics & Monitoring
- **Vercel Analytics**: v1.6.1
- **Wandry Analytics SDK**: v1.16.0

### Package Management
- **pnpm**: v10.25.0 (preferred package manager)

---

## PROJECT STRUCTURE

```
einui/
├── app/                          # Next.js app directory (RSC)
│   ├── layout.tsx               # Root layout
│   ├── page.tsx                 # Homepage
│   ├── globals.css              # Global styles
│   ├── robots.ts                # SEO robots
│   ├── sitemap.ts               # Dynamic sitemap
│   ├── docs/                    # Documentation pages
│   │   ├── layout.tsx
│   │   ├── page.tsx
│   │   ├── blocks/              # Layout blocks (admin-panel, dashboard, etc.)
│   │   ├── cli/                 # CLI documentation
│   │   ├── components/          # Component documentation
│   │   ├── dark-mode/           # Theme documentation
│   │   ├── installation/        # Installation guides
│   │   ├── registry/            # Registry documentation
│   │   └── theming/             # Theming documentation
│   └── rss.xml/
│       └── route.ts             # RSS feed endpoint
│
├── components/                  # Reusable React components
│   ├── glass-announcement.tsx   # Glass-morphism announcement
│   ├── liquid-glass-menu.tsx    # Glass menu component
│   ├── open-in-v0-button.tsx    # V0 integration button
│   ├── scroll-indicator.tsx     # Scroll tracking indicator
│   ├── theme-provider.tsx       # Theme context provider
│   ├── top-header.tsx           # Header component
│   ├── docs/                    # Documentation-specific components
│   │   ├── component-doc-page.tsx
│   │   ├── component-preview.tsx
│   │   ├── code-block-with-copy.tsx
│   │   ├── styled-code.tsx
│   │   ├── sidebar.tsx
│   │   └── ... (documentation utilities)
│   ├── home/                    # Homepage components
│   │   ├── component-grid.tsx
│   │   └── widget-showcase.tsx
│   ├── seo/                     # SEO utilities
│   │   └── json-ld.tsx
│   └── ui/                      # Primitive UI components (shadcn style)
│       ├── avatar.tsx
│       ├── button.tsx
│       ├── input.tsx
│       ├── label.tsx
│       ├── separator.tsx
│       ├── sheet.tsx
│       ├── sidebar.tsx
│       ├── skeleton.tsx
│       ├── tooltip.tsx
│       └── use-mobile.tsx
│
├── registry/                    # Component registry (shadcn format)
│   ├── blocks/                  # Full-page layout blocks
│   ├── innovative/              # Innovative component variations
│   ├── liquid-glass/            # Main glass-morphism components
│   └── widgets/                 # Standalone widgets
│
├── public/                      # Static assets
│   ├── manifest.json
│   └── r/                       # Registry JSON definitions
│       ├── admin-panel.json
│       ├── base-widget.json
│       ├── glass-*.json         # Individual component definitions
│       └── ... (100+ component registries)
│
├── lib/                         # Utility functions
│   ├── utils.ts                 # General utilities
│   ├── code-utilities.ts        # Code processing
│   ├── syntax-highlighter.ts    # Code highlighting
│   ├── seo.ts                   # SEO helpers
│   └── docs/
│       └── component-registry.tsx
│
├── hooks/                       # React hooks
│   └── use-mobile.ts            # Mobile detection hook
│
├── types/                       # TypeScript type definitions
│   └── css.d.ts                 # CSS module types
│
├── constants/                   # Application constants
│   ├── nav-items.tsx            # Navigation configuration
│   └── mock-data.ts             # Mock data for previews
│
├── styles/                      # Global styles
│   └── globals.css
│
├── tests/                       # Test configuration
│   ├── setup.ts
│   └── components/              # Component tests
│
├── configuration files
│   ├── package.json             # Dependencies and scripts
│   ├── tsconfig.json            # TypeScript configuration
│   ├── next.config.ts           # Next.js configuration
│   ├── vitest.config.ts         # Vitest configuration
│   ├── postcss.config.mjs        # PostCSS configuration
│   ├── eslint.config.mjs        # ESLint configuration
│   ├── components.json          # shadcn configuration
│   ├── tailwind.config.ts       # Tailwind CSS configuration
│   └── compose.yml              # Docker compose configuration
│
└── documentation
    ├── README.md                # Main project README
    ├── CONTRIBUTING.md          # Contribution guidelines
    ├── CODE_OF_CONDUCT.md       # Community code of conduct
    ├── SECURITY.md              # Security policy
    └── improve_suggests.md      # Enhancement suggestions
```

---

## KEY DIRECTORIES EXPLAINED

### `/app`
Next.js 16 App Router directory containing:
- Root layout and global configuration
- Documentation site pages (`/docs/*`)
- Dynamic content generation (robots.ts, sitemap.ts)
- RSS feed endpoint

**Layout Pages Structure:**
- `/docs/components/` - Interactive component previews and documentation
- `/docs/blocks/` - Full-page layout examples (admin panels, dashboards)
- `/docs/cli/` - CLI installation and usage guides
- `/docs/theming/` - Theme configuration documentation
- `/docs/dark-mode/` - Dark mode implementation guide

### `/components`
React component directory organized by purpose:
- **ui/** - Primitive shadcn-style components (buttons, inputs, dialogs, etc.)
- **docs/** - Components for rendering documentation (code blocks, previews, sidebars)
- **home/** - Homepage-specific components
- **Root level** - Application shell components (header, navigation, theme provider)

### `/registry`
Shadcn registry format component packages:
- **blocks/** - Full-page layout templates (admin-panel.json, dashboard.json, etc.)
- **liquid-glass/** - Main glass-morphism component variations
- **innovative/** - Experimental and advanced component patterns
- **widgets/** - Standalone, reusable component widgets

Each category contains JSON files defining component metadata, dependencies, and file paths.

### `/public/r`
Registry JSON endpoint directory containing:
- 100+ component definition files
- Each file includes component metadata, dependencies, files, and type information
- Used by shadcn CLI for component installation

### `/lib`
Utility modules:
- **code-utilities.ts** - AST parsing and code transformation
- **syntax-highlighter.ts** - Code highlighting with theme support
- **seo.ts** - Open Graph and meta tag generation
- **utils.ts** - General-purpose utilities (cn(), classname merging)
- **docs/component-registry.tsx** - Component registry data structure

### `/hooks`
Reusable React hooks:
- **use-mobile.ts** - Responsive design breakpoint detection

---

## CORE FEATURES & CAPABILITIES

### 1. Component System
- **Primitive Components**: Reusable, unstyled base components from Radix UI
- **Themed Components**: Pre-styled components with glass-morphism design
- **Layout Blocks**: Full-page templates for common patterns (admin panels, dashboards)
- **Widget Components**: Self-contained, standalone UI elements

### 2. Documentation & Previews
- **Interactive Previews**: Live component demonstrations with code snippets
- **Code Highlighting**: Syntax-highlighted code blocks with copy functionality
- **Component Pages**: Dedicated documentation pages for each component
- **Search & Navigation**: Integrated sidebar with component search

### 3. Theming System
- **Dark Mode Support**: next-themes integration for automatic theme switching
- **Tailwind CSS v4**: Latest CSS-in-JS approach with PostCSS
- **Customization**: CSS variables for easy color and style customization
- **Glass Effect**: Backdrop blur and transparency utilities for liquid glass aesthetic

### 4. Accessibility
- **Radix UI Foundation**: All components built on accessible primitives
- **ARIA Labels**: Proper semantic HTML and ARIA attributes
- **Keyboard Navigation**: Full keyboard support for interactive components
- **Testing**: axe-core CLI for accessibility audits

### 5. Registry & Distribution
- **Shadcn Format**: Components packaged for installation via `shadcn` CLI
- **JSON Metadata**: Complete component definitions with dependencies
- **Version Control**: Semantic versioning for component updates
- **CLI Tools**: Built-in `registry:build` and `registry:search` commands

### 6. Validation & Type Safety
- **Zod Schemas**: TypeScript-first validation for form data
- **Full TypeScript**: Strict mode enabled throughout
- **Type Definitions**: Complete type coverage for all APIs

---

## NPM SCRIPTS & COMMANDS

```bash
# Development
pnpm dev              # Start development server (Next.js dev)
pnpm build            # Production build
pnpm start            # Start production server
pnpm analyze          # Analyze bundle size

# Code Quality
pnpm lint             # Run ESLint
pnpm lint:fix         # Fix ESLint issues

# Testing
pnpm test             # Run Vitest suite
pnpm test:watch       # Watch mode testing
pnpm test:coverage    # Generate coverage report
pnpm test:ui          # Vitest UI dashboard

# Registry
pnpm registry:build   # Build component registry
pnpm registry:search  # Search registry
```

---

## CONFIGURATION FILES

### `tsconfig.json`
- **Target**: ES2017 with DOM and ESNext libraries
- **Strict Mode**: Enabled for type safety
- **Path Aliases**: `@/*` maps to project root
- **React JSX**: React 19 automatic runtime
- **Vitest Globals**: Global test function support

### `next.config.ts`
- Standard Next.js 16 configuration
- Support for App Router and React Server Components
- Image optimization and font loading

### `tailwind.config.ts`
- Tailwind CSS v4 with PostCSS integration
- Custom glass-morphism utilities
- Extended color and spacing scales
- Animation extensions

### `vitest.config.ts`
- Vitest testing framework configuration
- JSDOM environment for DOM testing
- Coverage reporting
- UI dashboard

### `postcss.config.mjs`
- @tailwindcss/postcss plugin configuration
- Future CSS support

### `components.json`
- Shadcn CLI configuration
- Component import paths and styles
- TypeScript configuration
- Aliases for component imports

---

## DEPENDENCIES & VERSIONS

### Critical Dependencies (Core)
- **react@19.2.3**: Latest React with concurrent features
- **next@16.1.1**: Latest Next.js with App Router
- **typescript@5.9.3**: TypeScript compiler
- **tailwindcss@4.1.18**: Latest Tailwind CSS
- **@radix-ui/***: Primitive components library

### Key Packages (UI & Styling)
- **framer-motion@12.23.26**: Animation library
- **lucide-react@0.562.0**: Icon system
- **class-variance-authority@0.7.1**: CSS variant management
- **clsx@2.1.1**: Classname utility
- **tailwind-merge@3.4.0**: Tailwind class merging
- **tailwindcss-animate@1.0.7**: Animation utilities

### Developer Dependencies
- **@vitejs/plugin-react@5.1.2**: Vitest React support
- **@testing-library/react@16.3.1**: React testing utilities
- **@types/react@19.2.7**: React type definitions
- **@types/node@25.0.3**: Node.js types
- **eslint@9.39.2**: Code linting

---

## ARCHITECTURE PATTERNS

### 1. React Server Components (RSC)
- Default to RSC where possible
- Client components marked with `'use client'`
- Data fetching in server components

### 2. Component Composition
- Primitive base components (Radix UI)
- Composed higher-level components
- Layout blocks combining multiple components

### 3. Styling Approach
- Tailwind CSS utility classes
- CSS modules for scoped styles
- CSS variables for theming
- Glass-morphism effects via backdrop-filter

### 4. Type Safety
- Strict TypeScript configuration
- Zod for runtime validation
- CVA (class-variance-authority) for component variants

### 5. Documentation Integration
- MDX/Markdown documentation pages
- Live preview components alongside docs
- Code block components with syntax highlighting
- Sidebar navigation with component registry

---

## COMPONENT CATEGORIES

### Primitive UI Components (`/components/ui`)
- Avatar, Button, Input, Label
- Dialog, Popover, Tooltip
- Checkbox, Radio, Select, Switch
- Card, Separator, Skeleton
- Sheet, Sidebar, Scroll Area

### Glass-Morphism Components (`/registry/liquid-glass`)
- Glass Alert Dialog
- Glass Avatar
- Glass Badge
- Glass Breadcrumb
- Glass Card
- Glass Command Palette
- Glass Dock
- Glass Input
- Glass Morph Card
- Glass Notification
- Glass Popover
- Glass Progress
- And 100+ more variants

### Layout Blocks (`/registry/blocks`)
- Admin Panel
- Dashboard
- Marketing Landing Pages
- Documentation Layouts

### Widgets (`/registry/widgets`)
- Calendar Widget
- Clock Widget
- Gauge Widget
- Custom Interactive Components

---

## DATA FLOW & ROUTING

### Page Structure
```
/ (home page)
├── /docs (documentation hub)
│   ├── /docs/components/:name (individual component docs)
│   ├── /docs/blocks/:name (layout block examples)
│   ├── /docs/cli (CLI guides)
│   ├── /docs/installation (setup guides)
│   ├── /docs/theming (theme documentation)
│   └── /docs/dark-mode (dark mode guide)
└── /api/rss.xml (RSS feed endpoint)
```

### Navigation
- Dynamic sidebar navigation from `constants/nav-items.tsx`
- Mobile navigation with responsive design
- Search functionality across components
- Breadcrumb navigation for docs

---

## STYLING & THEMING

### Glass-Morphism Implementation
- **Backdrop Filter**: CSS blur effect
- **Transparency**: RGBA colors with alpha channels
- **Border**: Subtle 1px borders with transparency
- **Shadow**: Soft shadows for depth
- **Gradient**: Background gradients with glass effect

### Theme System
- **next-themes**: Automatic theme detection and switching
- **CSS Variables**: Custom properties for colors and spacing
- **Light/Dark Mode**: Separate color schemes
- **Persistent**: Theme preference saved in localStorage

### Tailwind CSS v4 Features
- Latest PostCSS integration
- Future CSS support
- Native CSS nesting
- CSS Grid and Flexbox utilities
- Custom animations and transitions

---

## TESTING STRATEGY

### Unit Tests
- Component-level tests with Vitest
- React Testing Library for DOM testing
- Coverage tracking with @vitest/coverage-v8

### Accessibility Testing
- axe-core CLI for automated a11y checks
- Manual testing against WCAG guidelines
- Radix UI components for semantic HTML

### E2E Testing
- Currently configured but examples may vary
- Consider adding Cypress or Playwright

---

## DEPLOYMENT & BUILD

### Production Build
```bash
pnpm build  # Creates optimized Next.js build
pnpm start  # Serves production bundle
```

### Optimization Features
- Next.js automatic code splitting
- Image optimization
- Font loading optimization
- Bundle analysis with `pnpm analyze`

### Docker Support
- `Dockerfile` and `compose.yml` for containerization
- Development and production configurations

---

## SEO & METADATA

### Static Generation
- **robots.ts**: Robots.txt configuration
- **sitemap.ts**: Dynamic sitemap generation
- **layout.tsx**: Meta tags and Open Graph
- **json-ld.tsx**: Structured data (JSON-LD)

### Analytics Integration
- Vercel Analytics for performance metrics
- Wandry Analytics SDK for custom events

---

## CONTRIBUTING & CONVENTIONS

### Code Style
- ESLint for code linting
- TypeScript strict mode
- Consistent naming conventions
- Component composition patterns

### File Organization
- Colocated components with their tests
- Shared utilities in `/lib`
- Type definitions in `/types`
- Constants in `/constants`

### Component Naming
- Descriptive names with component type suffix
- PascalCase for components
- camelCase for utilities and hooks

---

## NOTABLE FEATURES

### 1. Shadcn Registry Integration
Components are exported in shadcn format, allowing users to:
- Install components via CLI: `shadcn install glass-button`
- Copy component code directly to their projects
- Maintain full source code control

### 2. V0 Integration
- "Open in V0" button for AI-assisted component generation
- Deeplink support to Vercel's V0 design tool

### 3. Component Preview System
- Live component demonstrations
- Editable code blocks
- Side-by-side preview and code
- Copy to clipboard functionality

### 4. Mobile Responsive
- Mobile-first design approach
- Responsive navigation (sheet/sidebar)
- Touch-friendly interactions
- `use-mobile` hook for responsive logic

---

## DEVELOPMENT WORKFLOW

1. **Component Development**: Create in `/components` or `/registry`
2. **Documentation**: Add page in `/app/docs/components/:name`
3. **Registry Entry**: Create JSON metadata in `/public/r/:name.json`
4. **Testing**: Add tests in `/tests/components/:name.test.tsx`
5. **Styling**: Use Tailwind CSS v4 with glass-morphism utilities
6. **Build & Deploy**: `pnpm build` then deploy to Vercel

---

## PERFORMANCE CONSIDERATIONS

### Code Splitting
- Automatic with Next.js
- Component-level lazy loading where appropriate

### Bundle Size
- Tree-shaking of unused dependencies
- Tailwind CSS purging of unused styles
- Dynamic imports for heavy components

### Caching
- Next.js static generation for docs
- Client-side component caching
- Service worker support via manifest

---

## SECURITY & VALIDATION

### Input Validation
- Zod schemas for form validation
- Server-side validation for data
- XSS prevention through React escaping

### Type Safety
- Full TypeScript coverage
- Runtime validation with Zod
- Type-safe component props

---

## FUTURE ROADMAP & EXTENSIBILITY

The codebase is designed for extensibility:
- Easy to add new components
- Modular component structure
- Registry format supports multiple component sources
- Documentation system scalable for any number of components

---

## QUICK START FOR DEVELOPERS

1. Clone and install: `git clone ... && cd ein-ui && pnpm install`
2. Start dev server: `pnpm dev` (opens http://localhost:3000)
3. Make changes to components in `/components` or `/registry`
4. Add documentation in `/app/docs/components/:name`
5. Run tests: `pnpm test`
6. Build: `pnpm build`
7. Deploy: Push to production environment

---

## KEY FILES TO UNDERSTAND

1. **[app/layout.tsx](app/layout.tsx)** - Root layout, theme setup
2. **[components/theme-provider.tsx](components/theme-provider.tsx)** - Theme context
3. **[lib/utils.ts](lib/utils.ts)** - Core utility functions
4. **[constants/nav-items.tsx](constants/nav-items.tsx)** - Navigation structure
5. **[registry/liquid-glass](registry/liquid-glass)** - Glass component implementations
6. **[app/docs/layout.tsx](app/docs/layout.tsx)** - Documentation layout

---

## RESOURCES

- **Official Site**: https://ui.eindev.ir
- **Registry Endpoint**: /r/registry.json
- **GitHub**: https://github.com/ehsanghaffar/ein-ui
- **Radix UI Docs**: https://www.radix-ui.com
- **Tailwind CSS**: https://tailwindcss.com
- **Next.js**: https://nextjs.org
- **Shadcn Components**: https://ui.shadcn.com

---

Last Updated: December 31, 2025
